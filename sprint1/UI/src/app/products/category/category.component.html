<div class="row">
  <h2 data-test="page-title">Category: {{slug.replace('-', ' ') | titlecase}}</h2>
</div>
<div class="row my-4">
  <div class="col-md-12">
    <!-- Sprint 1: Simple list layout, no filters -->
    @if (results) {
      <ul class="list-group">
        @for (item of results; track item) {
          <li class="list-group-item d-flex justify-content-between align-items-center">
            <a attr.data-test="product-{{item.id}}" routerLink="/product/{{item.id}}" class="text-decoration-none text-dark">
              <strong data-test="product-name">{{item.name}}</strong>
            </a>
            <span class="text-muted">
              @if (item.stock <= 0) {
                <span class="text-danger me-2" data-test="out-of-stock">Out of stock</span>
              }
              <span data-test="product-price" [ngClass]="{'text-decoration-line-through' : item.discount_price}">${{item.price}}</span>
              @if (item.discount_price) {
                <span data-test="product-discount-price" class="ms-1 fw-bold">${{item.discount_price}}</span>
              }
            </span>
          </li>
        }
      </ul>
    }
  </div>
</div>
